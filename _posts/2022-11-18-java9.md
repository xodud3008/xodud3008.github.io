---
title: "Java 9일차"
excerpt: "자바 예외 처리"

categories:
  - Java
tags:
  - [Java, Java 개념, Java 기초, 예외 처리, Java 예외 처리, 자바 예외 처리]

toc: true
toc_sticky: true
 
dat8: 2022-11-18
last_modified_at: 2022-11-18

---

# 예외 처리

## 예외

- 사용자의 잘못된 조작 또는 개발자의 잘못된 코딩으로 인해 발생하는 프로그램 오류
- 예외가 발생하면 프로그램은 곧바로 종료 ⇒ 예외 처리를 통해 프로그램을 종료하지 않고 정상 실행 상태가 유지되게 할 수 있음

## 일반 예외

- Exception 상속

## 실행 예외

- RuntimeException 상속

### NullPointerException

- 가장 빈번하게 발생하는 실행 예외
- null 값을 갖는 참조 변수(객체 참조가 없는 상태)로 객체 접근 연산자인 도트(.)를 사용했을 때 발생

### ArrayIndexOutOfBoundsException

- 배열에서 인덱스 범위를 초과하여 사용할 경우

### NumberFormatException

- 문자열이 숫자로 변환될 수 없을 때

### ClassCastException

- 타입 변환은 상위 클래스와 하위 클래스 간에 발생하고 구현 클래스와 인터페이스 간에 발생
- 이런 관계가 아니면 클래스는 다른 클래스로 타입 변환 불가

## 예외 처리 코드

- 예외가 발생했을 경우 프로그램의 갑작스런 종료를 막고 정상 실행을 유지할 수 있도록 처리하는 코드
- `try-catch-finally` 블록 사용
    - 생성나 내부와 메소드 내부에서 작성되어 일반 예외와 실행 예외가 발생할 경우 예외 처리를 할 수 있도록 도와줌
    - try 블록에 예외 발생 가능 코드 위치
    - try 블록이 정상 실행되면 catch 블록 실행되지 않고 finally 블록의 코드 실행
    - finally 블럭은 옵션으로 생략 가능
    - try 블록과 catch 블록에 return 문을 사용해도 finally 블럭은 항상 실행

### 다중 catch

- catch 블록을 여러개 사용해서 다중 예외처리
- catch 블록이 여러개라도 하나의 catch만 실행됨 ⇒ try 블록에서 하나의 예외가 발생하면 즉시 실행 멈추고 해당 catch 블록으로 이동

### catch 순서

- 다중 catch 블록 작성할 때 상위 예외 클래스가 하위 예외 클래스보다 아래쪽에 위치해야 함
    - 하위 예외는 상위 예외를 상속했기 때문에 상위 예외 타입도 되기 때문

### 멀티 catch

- catch 괄호 안에 동일하게 처리하고 싶은 예외를 `|` 로 연결

## 자동 리소스 닫기

- `try-catch-resources` : 예외 발생 여부 상관없이 사용했던 리소스 객체의 close() 메소드를 호출해서 안전하게 리소스 닫음
- `try-catch-resources` 사용하려면 리소스 객체는 java.lang.AutoCloseable 인터페이스 구축하고 있어야 함

## 예외 떠넘기기

- `try-catch` 로 예외를 처리하는 것이 기본 ⇒ 호출한 곳으로 예외를 떠넘길 수 있음
- throws 키워드 사용
    - 메소드 선언부 끝에 작성되어 메소드에서 처리하지 않은 예외를 호출한 곳으로 떠넘기는 역할
    - throws 키워드가 붙어 있는 메소드는 반드시 try 블록 내에서 호출 ⇒ catch 블럭에서 떠넘겨 받은 예외를 처리해야 함

## 사용자 정의 예외와 예외 발생

- 자바 표준 API에서 제공하는 예외 클래스만으로 한계
- 애플리케이션 예외 or 사용자 정의 예오 ⇒ 애플리케이션 서비스와 관련된 예외, 개발자가 직접 정의해서 만들어야 함

### 사용자 정의 예외 클래스 선언

- 컴파일러가 체크하는 일반 예외, 컴파일러가 체크하지 않는 실행 예외 모두 선언 가능

### 예외 정보 얻기

- `getMessage()` : 예외 메세지 확인
- `printStackTrace()` : 예외 발생 코드 추적해서 모두 콘솔에 출력